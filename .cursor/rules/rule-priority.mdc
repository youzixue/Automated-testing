---
description: 规则优先级和冲突解决机制
globs: ["**/*"]
alwaysApply: true
priority: 10
---
# 规则优先级系统

## 优先级分级
1. **架构合规性** (100): 架构设计相关规则优先级最高
2. **代码质量** (90): 代码重构、命名规范次之
3. **接口定义** (80): 接口设计和抽象规则
4. **平台特定规则** (70): 各测试平台特定实现标准
5. **业务逻辑** (60): 业务对象和流程实现规则
6. **测试标准** (50): 测试编写标准和最佳实践
7. **环境与配置** (40): 环境配置和依赖管理规则
8. **工程实践** (30): CI/CD、版本控制等规则
9. **调试与记录** (20): 日志、调试和文档规则
10. **辅助规则** (10): 其他辅助性规则

## 冲突解决机制
- 当规则冲突时，遵循高优先级规则
- 同优先级规则冲突时，遵循更具体的规则
- 架构规则与调试便利性冲突时，架构规则优先
- 紧急修复情况下，可暂时降低非架构规则优先级，但必须在PR中说明

## 临时规则豁免
- 紧急生产问题修复可申请临时规则豁免
- 豁免必须在PR描述中明确说明原因和范围
- 豁免必须设定明确的修复期限
- 所有豁免必须在后续重构中解决

## 规则审查机制
- 每季度审查一次规则的有效性和适用性
- 更新或调整规则需要经过技术负责人批准
- 新规则必须进行试行期评估

## 文件参考
- @.cursor/rules/
- @docs/enhanced_architecture.md
# 测试数据目录说明

本目录按测试平台组织测试数据，遵循项目的架构设计理念，将不同平台（Web、API、移动、微信）的测试数据分开管理，同时提供共享数据区域。

## 目录结构

```
data/
├── api/                # API测试相关数据
│   └── payment_data.yaml  # 支付接口测试数据
├── common/             # 跨平台共享的测试数据
│   └── images/         # 共享图像资源
│       └── monthly_card/ # 月卡WebView流程图像
├── mobile/             # 积余服务App平台相关数据
│   └── images/         # App特定图像资源（用于Airtest/Poco自动化）
├── web/                # Web平台相关数据
│   └── login/          # 登录相关测试数据
│       └── login_data.yaml # 登录测试数据
└── wechat/             # 微信平台相关数据
    └── images/         # 微信特定图像资源（用于Airtest/Poco自动化）
```

## 数据类型说明

### YAML/JSON测试数据
- **API数据文件** (`api/*.yaml`): 存储API请求参数、期望响应和验证规则
- **Web测试数据** (`web/**/*.yaml`): 存储Web测试的输入参数、验证点和测试场景
- **移动/微信测试数据**: 存储App/微信测试的输入、状态和预期结果

### 图像资源 (images/)
- **Airtest图像模板**: 用于图像识别定位元素，主要用于移动端和微信自动化测试
- **截图参考**: 用于对比验证或文档说明的参考图像

## 数据组织规则

1. **平台隔离**: 根据测试平台（Web、API、移动、微信）将数据文件分开存储
2. **功能分组**: 同一功能模块的测试数据应放在同一子目录下（如`web/login/`）
3. **命名规范**: 文件名应反映其用途和关联的测试用例（如`payment_data.yaml`）
4. **数据共享**: 多平台共用的数据应放在`common`目录下

## 最佳实践

1. **数据驱动测试**:
   - 测试数据与测试逻辑分离，实现参数化测试
   - 通过YAML/JSON文件定义多组测试场景

2. **资源管理**:
   - 图像模板应存储在适当的`images/`子目录下
   - 大型二进制文件应考虑使用Git LFS管理

3. **配合fixtures使用**:
   - 测试数据文件应与pytest fixtures配合使用
   - 通过fixtures加载测试数据，实现数据与测试用例的解耦

4. **数据更新维护**:
   - 定期检查并更新测试数据，确保与实际系统同步
   - 随系统UI变更及时更新相关图像模板
   - 维护良好的版本控制，记录重要数据变更

## 跨平台数据重用

- 共享数据优先存放在`common/`目录下
- 平台特定数据存放在各自平台目录下
- 避免重复存储相同的测试数据
